{% extends 'main/base.html' %}

{% block app %}
<div class="filter-bar">
    <button id="dates">Dates</button>
    <input id="from" type="hidden" name="from">
    <input id="to" type="hidden" name="to">
    <button>Filters</button>
</div>

<div style="height: calc(100vh - 80px - 64px); overflow: scroll; padding-right: 30px;">
    {% for listing in listings %}
    <div class="listing">
        <a href="{% url 'main:listing' id=listing.id %}" target="_blank"><img src="/media/listings/{{listing.id}}/main.jpg"></a>
        <a href="{% url 'main:listing' id=listing.id %}" target="_blank">
            {% if listing.uniq_type %}
            <div style="color: rgb(165, 41, 3); font-size: 12px; font-weight: bold; padding-top: 5px;">{{listing.stay_type_str}} in {{listing.uniq_type_str}}</div>
            {% else %}
            <div style="color: rgb(165, 41, 3); font-size: 12px; font-weight: bold; padding-top: 5px;">{{listing.stay_type_str}}</div>
            {% endif %}
            <div style="color: rgb(72, 72, 72); font-size: 19px; font-weight: bold;">{{listing.name}}</div>
            <div style="color: rgb(72, 72, 72); font-size: 15px; font-weight: 300;">From {{listing.price_per_night_str}} per night</div>
        </a>
    </div>
    {% endfor %}
</div>

{% endblock %}

{% block scripts %}
<script>
    $("#dates").click(function(event) {
        console.log("got here")
        if (!$("#from").text()) {
            $("#from").datepicker();
            console.log($("#from").text())
        } else {
            $("#to").datepicker();
            console.log($("#to").text())
        }
    });
</script>
{% endblock %}

